(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{1574:(e,a,t)=>{"use strict";t.d(a,{IG:()=>o,db:()=>c,j2:()=>d,yA:()=>n});var r=t(2078),s=t(2553),i=t(9708),l=t(9996);let n=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyDkojqSAUoRkSwZwzS2SkyPnwqfsWdQ1m4",authDomain:"mitjunior.firebaseapp.com",projectId:"mitjunior",storageBucket:"mitjunior.appspot.com",messagingSenderId:"206479062777",appId:"COLOQUE_SEU_APP_ID_AQUI"}),d=(0,s.xI)(n),c=(0,i.aU)(n),o=(0,l.c7)(n)},6245:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d});var r=t(5155),s=t(2115),i=t(1574),l=t(9708),n=t(3328);function d(){let[e]=(0,n.hD)(i.j2),[a,t]=(0,s.useState)([]),[d,c]=(0,s.useState)(""),o=(0,s.useRef)(null);(0,s.useEffect)(()=>{var e;null==(e=o.current)||e.scrollIntoView({behavior:"smooth"})},[a]),(0,s.useEffect)(()=>{if(!i.db)return;let e=(0,l.P)((0,l.rJ)(i.db,"chat"),(0,l.My)("createdAt","asc")),a=(0,l.aQ)(e,e=>{let a=[];e.forEach(e=>{a.push({id:e.id,...e.data()})}),t(a)});return()=>a()},[]);let m=async a=>{if(a.preventDefault(),d.trim()&&e)try{await (0,l.gS)((0,l.rJ)(i.db,"chat"),{text:d,authorName:e.displayName||e.email,authorId:e.uid,createdAt:(0,l.O5)()}),c("")}catch(e){console.error("Erro ao enviar mensagem: ",e)}};return(0,r.jsxs)("div",{className:"bg-dark text-white vh-100 d-flex flex-column",children:[(0,r.jsx)("header",{className:"p-3 border-bottom border-secondary",children:(0,r.jsx)("h1",{className:"h4",children:"Chat da Comunidade"})}),(0,r.jsxs)("main",{className:"flex-grow-1 p-3 d-flex flex-column overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex-grow-1 overflow-auto mb-3",children:[a.length>0?a.map(a=>(0,r.jsx)("div",{className:"d-flex mb-2 ".concat(a.authorId===(null==e?void 0:e.uid)?"justify-content-end":"justify-content-start"),children:(0,r.jsx)("div",{className:"card ".concat(a.authorId===(null==e?void 0:e.uid)?"bg-primary":"bg-secondary"),style:{maxWidth:"70%"},children:(0,r.jsxs)("div",{className:"card-body p-2",children:[(0,r.jsx)("p",{className:"card-text small",children:a.text}),(0,r.jsx)("small",{className:"text-white-50",style:{fontSize:"0.7rem"},children:a.authorName})]})})},a.id)):(0,r.jsx)("div",{className:"text-center py-5 h-100 d-flex justify-content-center align-items-center",children:(0,r.jsx)("p",{className:"text-white-50",children:"Nenhuma mensagem ainda. Inicie a conversa!"})}),(0,r.jsx)("div",{ref:o})]}),(0,r.jsxs)("form",{onSubmit:m,className:"d-flex gap-2",children:[(0,r.jsx)("input",{type:"text",className:"form-control bg-dark text-white border-secondary",placeholder:e?"Digite uma mensagem...":"Fa\xe7a login para conversar.",value:d,onChange:e=>c(e.target.value),disabled:!e}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!e||!d.trim(),children:"Enviar"})]})]})]})}},7900:(e,a,t)=>{Promise.resolve().then(t.bind(t,6245))}},e=>{e.O(0,[135,965,31,328,441,255,977],()=>e(e.s=7900)),_N_E=e.O()}]);