(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[10],{63:(e,a,t)=>{"use strict";var s=t(7260);t.o(s,"usePathname")&&t.d(a,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}})},90:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d});var s=t(5155),r=t(2115),l=t(63),o=t(2619),n=t.n(o),c=t(9708),i=t(9996),u=t(1574);function d(e){let{params:a}=e,t=(0,l.useRouter)(),[o,d]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),[b,p]=(0,r.useState)(""),[f,x]=(0,r.useState)(null),[j,N]=(0,r.useState)(!1),[v,g]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{if(!u.db)return;let e=(0,c.H9)(u.db,"courses",a.id),t=await (0,c.x7)(e);if(t.exists()){let e=t.data();d(e.title),h(e.description),p(e.coverURL)}g(!1)})()},[a.id]);let S=async e=>{e.preventDefault(),N(!0);try{let e=b;if(f){let a=(0,i.KR)(u.IG,b);await (0,i.XR)(a).catch(e=>console.log("Antiga capa n\xe3o encontrada, continuando..."));let t=(0,i.KR)(u.IG,"covers/".concat(Date.now(),"_").concat(f.name));await (0,i.D)(t,f),e=await (0,i.qk)(t)}let s=(0,c.H9)(u.db,"courses",a.id);await (0,c.mZ)(s,{title:o,description:m,coverURL:e}),alert("Curso atualizado com sucesso!"),t.push("/admin/courses")}catch(e){console.error("Erro ao atualizar curso: ",e),alert("Ocorreu um erro ao atualizar o curso.")}finally{N(!1)}};return v?(0,s.jsx)("p",{className:"text-white",children:"Carregando..."}):(0,s.jsxs)("div",{className:"bg-dark text-white min-vh-100",children:[(0,s.jsxs)("header",{className:"p-3 mb-4 border-bottom border-secondary d-flex justify-content-between align-items-center",children:[(0,s.jsx)("h1",{className:"h4",children:"Editar Curso"}),(0,s.jsx)(n(),{href:"/admin/courses",className:"btn btn-secondary",children:"Cancelar"})]}),(0,s.jsx)("main",{className:"container",children:(0,s.jsx)("div",{className:"card bg-secondary p-4",children:(0,s.jsxs)("form",{onSubmit:S,children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"title",className:"form-label",children:"T\xedtulo do Curso"}),(0,s.jsx)("input",{type:"text",className:"form-control",id:"title",value:o,onChange:e=>d(e.target.value)})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"description",className:"form-label",children:"Descri\xe7\xe3o"}),(0,s.jsx)("textarea",{className:"form-control",id:"description",rows:3,value:m,onChange:e=>h(e.target.value)})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Capa Atual"}),(0,s.jsx)("img",{src:b,alt:"Capa atual",width:150,className:"d-block rounded mb-2"}),(0,s.jsx)("label",{htmlFor:"cover",className:"form-label",children:"Substituir Capa (opcional)"}),(0,s.jsx)("input",{type:"file",className:"form-control",id:"cover",accept:"image/*",onChange:e=>x(e.target.files?e.target.files[0]:null)})]}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:j,children:j?"Salvando...":"Salvar Altera\xe7\xf5es"})]})})})]})}},1574:(e,a,t)=>{"use strict";t.d(a,{IG:()=>u,db:()=>i,j2:()=>c,yA:()=>n});var s=t(2078),r=t(2553),l=t(9708),o=t(9996);let n=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({apiKey:"AIzaSyDkojqSAUoRkSwZwzS2SkyPnwqfsWdQ1m4",authDomain:"mitjunior.firebaseapp.com",projectId:"mitjunior",storageBucket:"mitjunior.appspot.com",messagingSenderId:"206479062777",appId:"COLOQUE_SEU_APP_ID_AQUI"}),c=(0,r.xI)(n),i=(0,l.aU)(n),u=(0,o.c7)(n)},7599:(e,a,t)=>{Promise.resolve().then(t.bind(t,90))}},e=>{e.O(0,[135,965,31,619,441,255,977],()=>e(e.s=7599)),_N_E=e.O()}]);