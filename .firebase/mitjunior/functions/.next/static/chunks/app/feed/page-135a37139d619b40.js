(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[403],{1574:(e,a,s)=>{"use strict";s.d(a,{IG:()=>n,db:()=>l,j2:()=>c,yA:()=>i});var r=s(2078),t=s(2553),d=s(9708),o=s(9996);let i=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyDkojqSAUoRkSwZwzS2SkyPnwqfsWdQ1m4",authDomain:"mitjunior.firebaseapp.com",projectId:"mitjunior",storageBucket:"mitjunior.appspot.com",messagingSenderId:"206479062777",appId:"COLOQUE_SEU_APP_ID_AQUI"}),c=(0,t.xI)(i),l=(0,d.aU)(i),n=(0,o.c7)(i)},6727:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>c});var r=s(5155),t=s(2115),d=s(1574),o=s(9708),i=s(3328);function c(){let[e]=(0,i.hD)(d.j2),[a,s]=(0,t.useState)([]),[c,l]=(0,t.useState)(""),[n,m]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(!d.db)return;let e=(0,o.P)((0,o.rJ)(d.db,"posts"),(0,o.My)("createdAt","desc")),a=(0,o.aQ)(e,e=>{let a=[];e.forEach(e=>{a.push({id:e.id,...e.data()})}),s(a)});return()=>a()},[]);let h=async a=>{if(a.preventDefault(),c.trim()&&e){m(!0);try{await (0,o.gS)((0,o.rJ)(d.db,"posts"),{text:c,authorName:e.displayName||e.email,authorId:e.uid,createdAt:(0,o.O5)()}),l("")}catch(e){console.error("Erro ao criar post: ",e),alert("N\xe3o foi poss\xedvel criar o post.")}finally{m(!1)}}};return(0,r.jsxs)("div",{className:"bg-dark text-white min-vh-100",children:[(0,r.jsx)("header",{className:"p-3 mb-4 border-bottom border-secondary",children:(0,r.jsx)("h1",{className:"h4",children:"Feed da Comunidade"})}),(0,r.jsxs)("main",{className:"container",children:[(0,r.jsx)("div",{className:"card bg-secondary mb-4",children:(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("form",{onSubmit:h,children:[(0,r.jsx)("textarea",{className:"form-control bg-dark text-white border-secondary",rows:3,placeholder:e?"No que voc\xea est\xe1 pensando?":"Fa\xe7a login para postar.",value:c,onChange:e=>l(e.target.value),disabled:!e||n}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",disabled:!e||n,children:n?"Postando...":"Postar"})]})})}),(0,r.jsx)("div",{className:"d-flex flex-column gap-3",children:a.length>0?a.map(e=>(0,r.jsx)("div",{className:"card bg-secondary",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsx)("p",{className:"card-text",children:e.text}),(0,r.jsxs)("small",{className:"text-white-50",children:["Postado por ",e.authorName]})]})},e.id)):(0,r.jsx)("div",{className:"text-center py-5",children:(0,r.jsx)("p",{className:"text-white-50",children:"Ainda n\xe3o h\xe1 posts na comunidade. Que tal ser o primeiro?"})})})]})]})}},7078:(e,a,s)=>{Promise.resolve().then(s.bind(s,6727))}},e=>{e.O(0,[135,965,31,328,441,255,977],()=>e(e.s=7078)),_N_E=e.O()}]);